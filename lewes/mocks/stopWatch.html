<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- CSS -->
    <link rel="stylesheet" href="stopWatch.css">

    <title>StopWatch</title>
</head>

<body>

    <div class="swDiv">

        <div id="timer">
            00:00:00
        </div>

        <div class="swButtons">
            <button id="startStop" onclick="startStop()">Start</button>
            <button id='reset' onclick="reset()">Reset</button>
        </div>

    </div>


    <script>

        //Times
        let milSec = 0;
        let seconds = 0;
        let minutes = 0;

        let displayMilSec = 0;
        let displaySecond = 0;
        let displayMin = 0;


        //Define interval function
        let interval = null;        //<--Stops function from execution on page load.



        //Stopwatch function
        const stopWatch = () => {

            milSec++

            //Logic for timer
            if (milSec / 99 === 1) {
                milSec = 0;
                seconds++;

                if (seconds / 60 === 1) {
                    seconds = 0;
                    minutes++
                }
            }

            //When timers sec & min are 1 digit
            if (seconds < 10) {
                displaySecond = '0' + seconds.toString();
            } else {
                displaySecond = seconds;
            }

            if (minutes < 10) {
                displayMin = '0' + minutes.toString();
            } else {
                displayMin = minutes;
            }


            //Display current timer
            document.getElementById('timer').innerHTML = displayMin + ':' + displaySecond + ':' + milSec;
        }



        //Start/Stop status
        let status = 'stopped'

        //Start/Stop timer
        function startStop() {

            if (status === 'stopped') {

                //Start stopwatch
                interval = window.setInterval(stopWatch, 10);
                document.getElementById('startStop').innerHTML = 'Stop'
                status = 'started'
            } else {
                window.clearInterval(interval)
                document.getElementById('startStop').innerHTML = 'Start';
                status = 'stopped'
            }
        }


        //Reset Stopwatch

        function reset() {

            window.clearInterval(interval);
            milSec = 0;
            seconds = 0;
            minutes = 0;
            document.getElementById('timer').innerHTML = '00:00:00'
            document.getElementById('startStop').innerHTML = 'Start'
        }

    </script>

</body>

</html>