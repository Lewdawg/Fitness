{"ast":null,"code":"var _jsxFileName = \"/home/dci/Desktop/gitHubProjects/fitness/app/frontend/src/components/main/login/login.component.jsx\",\n    _s = $RefreshSig$();\n\nimport './login.styles.css';\nimport { useState, useContext } from 'react';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport AppContext from '../../../contexts/AppContext.js';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Login() {\n  _s();\n\n  const history = useHistory();\n  const {\n    setLoggedIn,\n    setUsername\n  } = useContext(AppContext);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  const [loginFailed, setLoginFailed] = useState(false);\n\n  const handleSubmit = async event => {\n    try {\n      event.preventDefault();\n      await axios.post('api/login', {\n        email,\n        password\n      });\n      setLoggedIn(true);\n      setUsername(email);\n      history.push('/login/success');\n    } catch (error) {\n      setLoginFailed(true);\n      setLoggedIn(false);\n      history.push('/login');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"login\",\n      className: \"wrapper fadeInDown\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"formContent\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 32,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            id: \"loginFailed\",\n            className: loginFailed && 'alert alert-danger',\n            children: \"Your login failed.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 35,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"fadeIn first mt-2\",\n            name: \"email\",\n            required: true,\n            value: email,\n            placeholder: \"Email\",\n            onChange: e => setEmail(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            className: \"fadeIn second\",\n            name: \"password\",\n            placeholder: \"Password\",\n            required: true,\n            value: password,\n            onChange: e => setPassword(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 7\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"submit\",\n            className: \"fadeIn fourth\",\n            value: \"Log in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 59,\n            columnNumber: 7\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 34,\n          columnNumber: 6\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"formFooter\",\n          children: /*#__PURE__*/_jsxDEV(NavLink, {\n            className: \"underlineHover\",\n            to: \"./register\",\n            children: \"Not registered ?\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 7\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 6\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 5\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 4\n    }, this)\n  }, void 0, false);\n}\n\n_s(Login, \"kAdN0TBg4oDa1i/AMUNFXxU/zrA=\", false, function () {\n  return [useHistory];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/dci/Desktop/gitHubProjects/fitness/app/frontend/src/components/main/login/login.component.jsx"],"names":["useState","useContext","NavLink","useHistory","AppContext","axios","Login","history","setLoggedIn","setUsername","email","setEmail","password","setPassword","loginFailed","setLoginFailed","handleSubmit","event","preventDefault","post","push","error","e","target","value"],"mappings":";;;AAAA,OAAO,oBAAP;AACA,SAASA,QAAT,EAAmBC,UAAnB,QAAqC,OAArC;AACA,SAASC,OAAT,EAAkBC,UAAlB,QAAoC,kBAApC;AACA,OAAOC,UAAP,MAAuB,iCAAvB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;;;AAEA,SAASC,KAAT,GAAiB;AAAA;;AAChB,QAAMC,OAAO,GAAGJ,UAAU,EAA1B;AACA,QAAM;AAACK,IAAAA,WAAD;AAAcC,IAAAA;AAAd,MAA6BR,UAAU,CAACG,UAAD,CAA7C;AACA,QAAM,CAACM,KAAD,EAAQC,QAAR,IAAoBX,QAAQ,CAAC,EAAD,CAAlC;AACA,QAAM,CAACY,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACc,WAAD,EAAcC,cAAd,IAAgCf,QAAQ,CAAC,KAAD,CAA9C;;AAEA,QAAMgB,YAAY,GAAG,MAAOC,KAAP,IAAiB;AACrC,QAAI;AACHA,MAAAA,KAAK,CAACC,cAAN;AACA,YAAMb,KAAK,CAACc,IAAN,CAAW,WAAX,EAAwB;AAAET,QAAAA,KAAF;AAASE,QAAAA;AAAT,OAAxB,CAAN;AACAJ,MAAAA,WAAW,CAAC,IAAD,CAAX;AACAC,MAAAA,WAAW,CAACC,KAAD,CAAX;AACAH,MAAAA,OAAO,CAACa,IAAR,CAAa,gBAAb;AACA,KAND,CAME,OAAOC,KAAP,EAAc;AACfN,MAAAA,cAAc,CAAC,IAAD,CAAd;AACAP,MAAAA,WAAW,CAAC,KAAD,CAAX;AACAD,MAAAA,OAAO,CAACa,IAAR,CAAa,QAAb;AACA;AACD,GAZD;;AAcA,sBACC;AAAA,2BACC;AAAK,MAAA,EAAE,EAAC,OAAR;AAAgB,MAAA,SAAS,EAAC,oBAA1B;AAAA,6BACC;AAAK,QAAA,EAAE,EAAC,aAAR;AAAA,gCACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,eAGC;AAAM,UAAA,QAAQ,EAAEJ,YAAhB;AAAA,kCACC;AACC,YAAA,EAAE,EAAC,aADJ;AAEC,YAAA,SAAS,EAAEF,WAAW,IAAI,oBAF3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBADD,eAOC;AACC,YAAA,IAAI,EAAC,MADN;AAEC,YAAA,SAAS,EAAC,mBAFX;AAGC,YAAA,IAAI,EAAC,OAHN;AAIC,YAAA,QAAQ,MAJT;AAKC,YAAA,KAAK,EAAEJ,KALR;AAMC,YAAA,WAAW,EAAC,OANb;AAOC,YAAA,QAAQ,EAAGY,CAAD,IAAOX,QAAQ,CAACW,CAAC,CAACC,MAAF,CAASC,KAAV;AAP1B;AAAA;AAAA;AAAA;AAAA,kBAPD,eAgBC;AACC,YAAA,IAAI,EAAC,UADN;AAEC,YAAA,SAAS,EAAC,eAFX;AAGC,YAAA,IAAI,EAAC,UAHN;AAIC,YAAA,WAAW,EAAC,UAJb;AAKC,YAAA,QAAQ,MALT;AAMC,YAAA,KAAK,EAAEZ,QANR;AAOC,YAAA,QAAQ,EAAGU,CAAD,IAAOT,WAAW,CAACS,CAAC,CAACC,MAAF,CAASC,KAAV;AAP7B;AAAA;AAAA;AAAA;AAAA,kBAhBD,eAyBC;AACC,YAAA,IAAI,EAAC,QADN;AAEC,YAAA,SAAS,EAAC,eAFX;AAGC,YAAA,KAAK,EAAC;AAHP;AAAA;AAAA;AAAA;AAAA,kBAzBD;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHD,eAmCC;AAAK,UAAA,EAAE,EAAC,YAAR;AAAA,iCACC,QAAC,OAAD;AAAS,YAAA,SAAS,EAAC,gBAAnB;AAAoC,YAAA,EAAE,EAAC,YAAvC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA,gBAnCD;AAAA;AAAA;AAAA;AAAA;AAAA;AADD;AAAA;AAAA;AAAA;AAAA;AADD,mBADD;AA+CA;;GApEQlB,K;UACQH,U;;;KADRG,K;AAsET,eAAeA,KAAf","sourcesContent":["import './login.styles.css';\nimport { useState, useContext } from 'react';\nimport { NavLink, useHistory } from 'react-router-dom';\nimport AppContext from '../../../contexts/AppContext.js';\nimport axios from 'axios';\n\nfunction Login() {\n\tconst history = useHistory();\n\tconst {setLoggedIn, setUsername} = useContext(AppContext);\n\tconst [email, setEmail] = useState('');\n\tconst [password, setPassword] = useState('');\n\tconst [loginFailed, setLoginFailed] = useState(false);\n\n\tconst handleSubmit = async (event) => {\n\t\ttry {\n\t\t\tevent.preventDefault();\n\t\t\tawait axios.post('api/login', { email, password });\n\t\t\tsetLoggedIn(true);\n\t\t\tsetUsername(email);\n\t\t\thistory.push('/login/success');\n\t\t} catch (error) {\n\t\t\tsetLoginFailed(true);\n\t\t\tsetLoggedIn(false);\n\t\t\thistory.push('/login');\n\t\t}\n\t};\n\n\treturn (\n\t\t<>\n\t\t\t<div id=\"login\" className=\"wrapper fadeInDown\">\n\t\t\t\t<div id=\"formContent\">\n\t\t\t\t\t<h1>Login</h1>\n\n\t\t\t\t\t<form onSubmit={handleSubmit}>\n\t\t\t\t\t\t<div\n\t\t\t\t\t\t\tid=\"loginFailed\"\n\t\t\t\t\t\t\tclassName={loginFailed && 'alert alert-danger'}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\tYour login failed.\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tclassName=\"fadeIn first mt-2\"\n\t\t\t\t\t\t\tname=\"email\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tvalue={email}\n\t\t\t\t\t\t\tplaceholder=\"Email\"\n\t\t\t\t\t\t\tonChange={(e) => setEmail(e.target.value)}\n\t\t\t\t\t\t></input>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\tclassName=\"fadeIn second\"\n\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\tplaceholder=\"Password\"\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\tvalue={password}\n\t\t\t\t\t\t\tonChange={(e) => setPassword(e.target.value)}\n\t\t\t\t\t\t></input>\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\tclassName=\"fadeIn fourth\"\n\t\t\t\t\t\t\tvalue=\"Log in\"\n\t\t\t\t\t\t></input>\n\t\t\t\t\t</form>\n\n\t\t\t\t\t<div id=\"formFooter\">\n\t\t\t\t\t\t<NavLink className=\"underlineHover\" to=\"./register\">\n\t\t\t\t\t\t\tNot registered ?\n\t\t\t\t\t\t</NavLink>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</>\n\t);\n}\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}